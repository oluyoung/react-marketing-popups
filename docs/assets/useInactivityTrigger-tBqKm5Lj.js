import{r as s}from"./iframe-D8Hhf93p.js";function d(e=3e3,t=!0){const[o,r]=s.useState(!1);return s.useEffect(()=>{if(!t||o||e<=0)return;const n=window.setTimeout(()=>r(!0),e);return()=>window.clearTimeout(n)},[e,t,o]),[o,r]}function l(e){const t=s.useCallback(()=>{try{return localStorage.getItem(e)==="1"}catch{return!1}},[e]),o=s.useCallback(()=>{try{localStorage.setItem(e,"1")}catch{throw new Error("Could not set item please refresh")}},[e]),r=s.useCallback(()=>{try{localStorage.removeItem(e)}catch{throw new Error("Could not clear local storage")}},[e]);return{hasSeen:t,markSeen:o,clear:r}}const m=({id:e,fired:t,onOpenChange:o,open:r,isOk:n})=>{const{hasSeen:c,markSeen:u}=l(e);s.useEffect(()=>{t&&!c()&&o(!0),n&&u(),t&&!r&&u()},[t,n])};function w(e={}){const{topZonePx:t=50,delayMs:o=0,once:r=!0}=e,[n,c]=s.useState(!1);return s.useEffect(()=>{if(n&&r)return;let u;function i(a){!a.relatedTarget&&a.clientY<=t&&(o?(window.clearTimeout(u),u=window.setTimeout(()=>c(!0),o)):c(!0))}return document.addEventListener("mouseout",i),()=>{document.removeEventListener("mouseout",i),u&&window.clearTimeout(u)}},[t,o,r,n]),[n,c]}function E(e=50){const[t,o]=s.useState(!1);return s.useEffect(()=>{if(t)return;function r(){const n=document.documentElement,c=Math.max(1,n.scrollHeight-n.clientHeight);n.scrollTop/c*100>=e&&o(!0)}return r(),window.addEventListener("scroll",r,{passive:!0}),()=>window.removeEventListener("scroll",r)},[e,t]),[t,o]}function v(e=3e4){const[t,o]=s.useState(!1),r=s.useRef(null);function n(){r.current&&window.clearTimeout(r.current),r.current=window.setTimeout(()=>o(!0),e)}return s.useEffect(()=>{if(t)return;const c=["mousemove","mousemove","mousedown","click","keydown","keypress","keyup","scroll","touchstart","touchmove","resize","blur","focus"];return c.forEach(u=>window.addEventListener(u,n,{passive:!0})),n(),()=>{c.forEach(u=>window.removeEventListener(u,n)),r.current&&window.clearTimeout(r.current)}},[e,t]),[t,o]}export{m as a,w as b,E as c,v as d,d as u};
